import{u as g,l as u,H as b,o as n,c,a as e,t as a,d,F as p,b as w,L as _}from"./index.b6723fee.js";import"./lodash.4f895f02.js";import{m as k,a as x}from"./formatData.16acd92b.js";const L=e("div",{class:"text-center"},[e("h1",{class:"my-4 text-3xl font-bold text-center text-gray-900"},"\u09AB\u09B2\u09BE\u09AB\u09B2")],-1),R={class:"flex justify-between max-w-xl mx-auto my-5"},C={class:"max-w-xl mx-auto my-3"},E={class:"form-control"},j={class:"mt-4"},B={key:0},S={class:"flex items-center justify-center w-10 h-10 font-semibold text-white bg-green-500 rounded-full"},$={class:"flex-1 ml-2 text-gray-900 md:ml-4"},F={class:"text-lg font-semibold"},N={class:"text-sm text-gray-500"},T={class:"flex items-center justify-center w-10 h-10 p-2 font-semibold text-center text-gray-900 rounded-full aspect-square"},q={key:1,class:"text-center"},A=e("button",{class:"btn loader btn-primary"},"Loading...",-1),D=[A],z={setup(H){const{getExam:h}=g(),r=h(),l=u([]),i=u([]);u(null),b();const m=async()=>{let{data:o}=await _.get(`/exam/${r._id}/leaderboard`);l.value=o.map((s,t)=>({position:t+1,duration:k(s.duration,r.duration*6e4),score:s.marks,name:s.user.name,college:s.user.institute,attempt:s.attempt})),i.value=l.value};m();const f=o=>{let s=o.target.value;s?i.value=l.value.filter(t=>t.name.toLowerCase().includes(s.toLowerCase())):i.value=l.value},v=async()=>{const o=prompt("Enter password to calculate result");await _.post(`/exam/${r._id}/calculate-result?password=${o}`),m()};return(o,s)=>(n(),c(p,null,[L,e("div",R,[e("h2",null,a(d(r).title),1),e("button",{onClick:v,class:"px-5 py-2 font-semibold text-white bg-green-500 rounded-md"}," Calculate Result ")]),e("div",C,[e("div",E,[e("input",{placeholder:"\u09B6\u09BF\u0995\u09CD\u09B7\u09BE\u09B0\u09CD\u09A5\u09C0 \u0985\u09A5\u09AC\u09BE \u09B6\u09BF\u0995\u09CD\u09B7\u09BE\u09AA\u09CD\u09B0\u09A4\u09BF\u09B7\u09CD\u09A0\u09BE\u09A8\u09C7\u09B0 \u09A8\u09BE\u09AE \u09A6\u09BF\u09DF\u09C7 \u0996\u09C1\u0981\u099C\u09C1\u09A8... ",onKeyup:f,class:"rounded-md input input-bordered"},null,32)]),e("div",j,[l.value.length>0?(n(),c("div",B,[(n(!0),c(p,null,w(i.value,(t,y)=>(n(),c("div",{key:y,class:"flex items-center px-3 py-2 mb-2 border shadow-sm rounded-2xl"},[e("span",S,a(d(x)(t.position)),1),e("div",$,[e("h2",F,a(t.name),1),e("p",null,a(t.college),1),e("p",N," Attempts: "+a(t.attempt)+", \u09B8\u09AE\u09DF: "+a(t.duration)+" \u09AE\u09BF\u09A8\u09BF\u099F ",1)]),e("div",T,[e("span",null,a(d(x)(t.score)),1)])]))),128))])):(n(),c("div",q,D))])])],64))}};export{z as default};
