import{u as y,l as d,H as g,o as n,c as r,a as e,t as o,d as u,F as p,b as w,L as _}from"./index.dc3a2d2b.js";import"./lodash.98d88837.js";import{m as k,a as x}from"./formatData.34ea7f21.js";const L=e("div",{class:"text-center"},[e("h1",{class:"my-4 text-3xl font-bold text-center text-gray-900"},"\u09AB\u09B2\u09BE\u09AB\u09B2")],-1),R={class:"flex justify-between max-w-xl mx-auto my-5"},C={class:"max-w-xl mx-auto my-3"},E={class:"form-control"},j={class:"mt-4"},B={key:0},S={class:"flex items-center justify-center w-10 h-10 font-semibold text-white bg-green-500 rounded-full"},$={class:"flex-1 ml-2 text-gray-900 md:ml-4"},F={class:"text-lg font-semibold"},N={class:"text-sm text-gray-500"},T={class:"flex items-center justify-center w-10 h-10 p-2 font-semibold text-center text-gray-900 border-2 border-red-500 rounded-full aspect-square"},q={key:1,class:"text-center"},D=e("button",{class:"btn loader btn-primary"},"Loading...",-1),H=[D],A={setup(K){const{getExam:h}=y(),i=h(),l=d([]),c=d([]);d(null),g();const m=async()=>{let{data:a}=await _.get(`/exam/${i._id}/leaderboard`);l.value=a.map((t,s)=>({position:s+1,duration:k(t.duration),score:t.marks,name:t.user.name,college:t.user.institute,attempt:t.attempt})),c.value=l.value};m();const f=a=>{let t=a.target.value;t?c.value=l.value.filter(s=>s.name.toLowerCase().includes(t.toLowerCase())):c.value=l.value},v=async()=>{const a=prompt("Enter password to calculate result");await _.post(`/exam/${i._id}/calculate-result?password=${a}`),m()};return(a,t)=>(n(),r(p,null,[L,e("div",R,[e("h2",null,o(u(i).title),1),e("button",{onClick:v,class:"px-5 py-2 font-semibold text-white bg-green-500 rounded-md"}," Calculate Result ")]),e("div",C,[e("div",E,[e("input",{placeholder:"\u09B6\u09BF\u0995\u09CD\u09B7\u09BE\u09B0\u09CD\u09A5\u09C0 \u0985\u09A5\u09AC\u09BE \u09B6\u09BF\u0995\u09CD\u09B7\u09BE\u09AA\u09CD\u09B0\u09A4\u09BF\u09B7\u09CD\u09A0\u09BE\u09A8\u09C7\u09B0 \u09A8\u09BE\u09AE \u09A6\u09BF\u09DF\u09C7 \u0996\u09C1\u0981\u099C\u09C1\u09A8... ",onKeyup:f,class:"rounded-md input input-bordered"},null,32)]),e("div",j,[l.value.length>0?(n(),r("div",B,[(n(!0),r(p,null,w(c.value,(s,b)=>(n(),r("div",{key:b,class:"flex items-center px-3 py-2 mb-2 border shadow-sm rounded-2xl"},[e("span",S,o(u(x)(s.position)),1),e("div",$,[e("h2",F,o(s.name),1),e("p",null,o(s.college),1),e("p",N," \u09B8\u09AE\u09DF: "+o(s.duration)+" \u09AE\u09BF\u09A8\u09BF\u099F ",1)]),e("div",T,[e("span",null,o(u(x)(s.score)),1)])]))),128))])):(n(),r("div",q,H))])])],64))}};export{A as default};
